(self.webpackChunkmy_gatsby_site=self.webpackChunkmy_gatsby_site||[]).push([[756],{7198:function(e,t,n){"use strict";var a=n(7294),r=n(5444);t.Z=function(e){var t=e.children,n="";"undefined"!=typeof window?n=new URLSearchParams(window.location.search).get("param")||"":n="";var s=(0,a.useState)(n),o=s[0],l=s[1];return a.createElement("main",null,a.createElement("div",{id:"header"},a.createElement("div",{className:"toolbar-inside"},a.createElement("div",{className:"header-container"},a.createElement("div",{className:"header-container-left"},a.createElement("div",{className:"toolbar-logo toolbar-subMenu-box header-fl"},a.createElement(r.rU,{to:"/"},a.createElement("img",{width:"24px",height:"24px",alt:"shortpage",src:"https://trangianhuan.github.io/icon/awesome-icons/svg/user-shape.svg"})))),a.createElement("div",{className:"header-container-middle"},a.createElement("div",{className:"toolbar-search onlySearch"},a.createElement("div",{className:"toolbar-search-container"},a.createElement("input",{id:"toolbar-search-input",autoComplete:"off",type:"text",placeholder:"search",value:o,onChange:function(e){l(e.target.value),console.log(o,e.target.value)}}),a.createElement("button",{id:"toolbar-search-button",onClick:function(){fetch("https://jsonplaceholder.typicode.com/todos?userId="+o).then((function(e){return e.json()})).then((function(e){(0,r.c4)("/search?param="+o,{state:{data:e}})}))}})))),a.createElement("div",{className:"header-container-right"},a.createElement("div",{className:"toolbar-btns onlyUser"}))))),a.createElement("div",{className:"container"},t))}},6817:function(e,t,n){"use strict";var a=n(3552),r=n(7294),s=n(5444),o=function(e){function t(t){return e.call(this,t)||this}return(0,a.Z)(t,e),t.prototype.render=function(){return r.createElement("article",{key:this.props.post,className:"p-4 border-bottom d-flex"},r.createElement("figure",{className:"pe-4"},r.createElement("img",{src:this.props.post.thumbnail_url,alt:"Trulli",className:"post-img"})),r.createElement("div",{className:"post-info"},r.createElement("p",null,r.createElement("span",null,this.props.post.created_at)),r.createElement("h2",{className:"fs-5 pt-3"},r.createElement(s.rU,{className:"text-decoration-none fw-bold post-title",to:"/post/"+this.props.post.slug},this.props.post.title)),r.createElement("p",{className:"pt-3"},this.props.post.content.substring(0,255)),r.createElement("p",{className:"pt-3"},this.props.post.tags.map((function(e,t){return r.createElement(s.rU,{key:t,className:"text-decoration-none btn btn-tags me-2",to:"/tags/"+e.slug},e.name)})))))},t}(r.Component);t.Z=o},1621:function(e,t,n){"use strict";var a=n(3552),r=n(7294),s=n(5444),o=function(e){function t(t){var n;return(n=e.call(this,t)||this).goTagPage=function(e){(0,s.c4)("/tags/"+e)},n.getClassTag=function(e,t){return e===t?"px-3 btn btn-warning":"px-3 btn"},n}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this;return r.createElement("ul",{className:"d-flex flex-wrap p-3"},this.props.tags.map((function(t,n){return r.createElement("li",{key:n,onClick:function(){return e.goTagPage(t.slug)},className:e.getClassTag(e.props.slugPage,t.slug)},t.name)})))},t}(r.Component);t.Z=o},4928:function(e,t,n){"use strict";n.r(t);var a=n(18),r=n(7294),s=(n(5444),n(7198)),o=n(1621),l=n(6817);t.default=function(e){console.log(e);var t=e.data.allPost.edges,n=e.pageContext.slug,c=e.data.allTags.edges,i=[];c.forEach((function(e){try{i=[].concat((0,a.Z)(i),(0,a.Z)(e.node.tags))}catch(t){console.log("error",t)}})),i=i.filter((function(e,t,n){return n.findIndex((function(t){return t.slug===e.slug}))===t})),console.log(i);var u=t,m=(0,r.useState)((0,a.Z)(u.slice(0,5))),p=m[0],g=m[1],h=(0,r.useState)(!1),d=h[0],f=h[1],E=(0,r.useState)(u.length>5),v=E[0],b=E[1],N=(0,r.useRef)(),y=function(e){e[0].isIntersecting&&f(!0)};(0,r.useEffect)((function(){var e=new IntersectionObserver(y,{root:null,rootMargin:"20px",threshold:1});N.current&&e.observe(N.current)}),[]),(0,r.useEffect)((function(){if(d&&v){var e=p.length,t=e<u.length?u.slice(e,e+5):[];g([].concat((0,a.Z)(p),(0,a.Z)(t))),f(!1)}}),[d,v]),(0,r.useEffect)((function(){var e=p.length<u.length;b(e)}),[p]);return r.createElement(s.Z,null,r.createElement("div",{className:"m-auto main"},r.createElement("div",{className:"bg-white my-2"},r.createElement(o.Z,{tags:i,slugPage:n})),r.createElement("div",{className:"bg-white my-2"},p.map((function(e,t){return r.createElement(l.Z,{key:t,post:e.node})}))),r.createElement("div",{ref:N},v?r.createElement("p",null,"Loading..."):r.createElement("p",null,"No more results"))))}}}]);
//# sourceMappingURL=component---src-templates-tags-list-js-3edb75175a0af749eee2.js.map