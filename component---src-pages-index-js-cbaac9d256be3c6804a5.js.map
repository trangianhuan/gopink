{"version":3,"sources":["webpack://my-gatsby-site/./src/components/layout.js","webpack://my-gatsby-site/./src/pages/index.js"],"names":["pageTitle","children","useStaticQuery","window","URLSearchParams","location","search","get","useState","paramSearch","param","setParam","id","className","to","width","height","title","src","autoComplete","type","placeholder","value","onChange","event","target","console","log","onClick","fetch","then","response","json","resultData","navigate","state","data","props","posts","allPost","edges","map","node","index","key"],"mappings":"6IAgFA,IA7Ee,SAAC,GAA4B,EAA1BA,UAA2B,IAAhBC,EAAe,EAAfA,UAEdC,QAAe,cAU5B,GAAsB,oBAAXC,OACM,IAAIC,gBAAgBD,OAAOE,SAASC,QACxBC,IAAI,cAKjC,OAA0BC,cAASC,aAA5BC,EAAP,KAAcC,EAAd,KAoBA,OACE,4BACE,uBAAKC,GAAG,UACN,uBAAKC,UAAU,kBACT,uBAAKA,UAAU,oBACb,uBAAKA,UAAU,yBACX,uBAAKA,UAAU,8CACX,gBAAC,KAAD,CAAMC,GAAG,KACL,uBAAKC,MAAM,OAAOC,OAAO,OAAOC,MAAM,YAAYC,IAAI,4EAKlE,uBAAKL,UAAU,2BACX,uBAAKA,UAAU,6BACX,uBAAKA,UAAU,4BACX,yBAAOD,GAAG,uBAAuBO,aAAa,MAC5CC,KAAK,OACLC,YAAY,SACZC,MAAOZ,EACPa,SAtCP,SAACC,GACpBb,EAASa,EAAMC,OAAOH,OACtBI,QAAQC,IAAIjB,EAAOc,EAAMC,OAAOH,UAqCR,0BAAQV,GAAG,wBAAwBgB,QAAS,WAhCpEC,MAAM,qDAAqDnB,GACxDoB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,IACJC,QAAS,iBAAwBxB,EAAO,CACtCyB,MAAM,CACJC,KAAMH,cA+BF,uBAAKpB,UAAU,0BACf,uBAAKA,UAAU,8BAKzB,uBAAKA,UAAU,aACZZ,M,iECnDT,UAnBkB,SAACoC,GACjB,IACMC,EADWD,EAATD,KACWG,QAAQC,MAM3B,OACE,gBAAC,IAAD,CAAQxC,UAAU,aACfsC,EAAMG,KAAI,SAACC,EAAKC,GACf,OAAO,uBAAKC,IAAKD,GACf,yBAAID,EAAKA,KAAKzB","file":"component---src-pages-index-js-cbaac9d256be3c6804a5.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link, useStaticQuery, graphql, navigate } from 'gatsby'\r\n\r\nconst Layout = ({ pageTitle, children }) => {\r\n\r\n  const data = useStaticQuery(graphql`\r\n    query {\r\n      site {\r\n        siteMetadata {\r\n          title\r\n          description\r\n        }\r\n      }\r\n    }\r\n  `)\r\n  if (typeof window !== 'undefined') {\r\n    const params = new URLSearchParams(window.location.search);\r\n    const paramSearch = params.get(\"param\") || '';\r\n  } else {\r\n    const paramSearch = '';\r\n  }\r\n\r\n  const [param, setParam] = useState(paramSearch)\r\n\r\n  const handleChange = (event) => {\r\n    setParam(event.target.value);\r\n    console.log(param, event.target.value)\r\n  }\r\n\r\n  const doSearch = () => {\r\n\r\n    fetch(`https://jsonplaceholder.typicode.com/todos?userId=${param}`)\r\n      .then(response => response.json()) // parse JSON from request\r\n      .then(resultData => {\r\n        navigate('/search' + '?param=' + param, {\r\n          state:{\r\n            data: resultData\r\n          }\r\n        });\r\n      })\r\n  }\r\n\r\n  return (\r\n    <main >\r\n      <div id=\"header\">\r\n        <div className=\"toolbar-inside\">\r\n              <div className=\"header-container\">\r\n                <div className=\"header-container-left\">\r\n                    <div className=\"toolbar-logo toolbar-subMenu-box header-fl\">\r\n                        <Link to=\"/\">\r\n                            <img width=\"24px\" height=\"24px\" title=\"shortpage\" src=\"https://trangianhuan.github.io/icon/awesome-icons/svg/user-shape.svg\" />\r\n                        </Link>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"header-container-middle\">\r\n                    <div className=\"toolbar-search onlySearch\">\r\n                        <div className=\"toolbar-search-container\">\r\n                            <input id=\"toolbar-search-input\" autoComplete=\"off\"\r\n                              type=\"text\"\r\n                              placeholder=\"search\"\r\n                              value={param}\r\n                              onChange={handleChange}/>\r\n                            <button id=\"toolbar-search-button\" onClick={() => doSearch()}></button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"header-container-right\">\r\n                <div className=\"toolbar-btns onlyUser\"></div>\r\n                </div>\r\n              </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"container\">\r\n        {children}\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Layout\r\n","import React, { useState, useEffect } from \"react\"\r\nimport Layout from '../components/layout'\r\nimport { graphql } from \"gatsby\"\r\n\r\nconst IndexPage = (props) => {\r\n  const { data } = props;\r\n  const posts = data.allPost.edges\r\n// console.log(posts)\r\n// posts.map((node,index) => {\r\n//   console.log(node.node.title)\r\n// })\r\n\r\n  return (\r\n    <Layout pageTitle=\"Home Page\">\r\n      {posts.map((node,index) => {\r\n        return <div key={index}>\r\n          <p>{node.node.title}</p>\r\n        </div>\r\n      })}\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default IndexPage\r\n\r\nexport const pageQuery = graphql`\r\n  query MyQuery {\r\n    allPost(\r\n      filter: {create_at: {ne: null}}\r\n      sort: {fields: create_at, order: DESC}\r\n    ) {\r\n      edges {\r\n        node {\r\n          title\r\n          create_at\r\n        }\r\n      }\r\n    }\r\n  }\r\n`"],"sourceRoot":""}